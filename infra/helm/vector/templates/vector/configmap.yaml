apiVersion: v1
kind: ConfigMap
metadata:
  name: vector
data:
  vector.yaml: |
    # Set global options
    data_dir: /vector-data-dir

    # Vector's API (disabled by default)
    # Enable and try it out with the `vector top` command
    api:
      enabled: true
      address: 127.0.0.1:8686
      playground: false
    sources:
      kubernetes_logs:
        type: kubernetes_logs
    sinks:
      stdout:
        type: console
        inputs: [kubernetes_logs]
        encoding:
          codec: json
      # my_opentelemetry_sink:
      #   type: opentelemetry
      #   inputs:
      #     - kubernetes_logs
      #   protocol:
      #     type: "http"
      #     uri: "http://eksapp-hdx-oss-v2-otel-collector.clickhouse.svc.cluster.local:4318/v1/logs"
      #     compression: "gzip"
      #     request:
      #       headers: 
      #         authorization: "32d8c7c0-56e9-4fe9-a3fa-e04f29f67897"
      #     encoding:
      #       codec: json
